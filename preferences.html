<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step 3: Preferences</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-slate-50 text-slate-800">

    <div id="app" class="min-h-screen flex flex-col items-center justify-center p-4">
        <div class="w-full max-w-5xl mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-10 border border-slate-200">
            <div id="progress-header" class="mb-8">
                <h2 id="progress-title" class="text-2xl font-bold text-slate-700 mb-2">Step 3: Study Preferences</h2>
                <div class="w-full bg-slate-200 rounded-full h-2.5">
                    <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full" style="width: 75%"></div>
                </div>
            </div>

           <div id="page-preferences" class="page">
                 <div class="max-w-xl mx-auto">
                    <h3 class="text-2xl font-bold text-center mb-6">Set Your Study Preferences</h3>
                    <div class="space-y-8">
                        <div>
                            <label class="font-semibold text-slate-700">When do you prefer to study?</label>
                            <p class="text-sm text-slate-500 mb-3">Select all that apply.</p>
                            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                                <div><input type="checkbox" id="pref-morning" value="morning" class="hidden peer"><label for="pref-morning" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">Morning</label></div>
                                <div><input type="checkbox" id="pref-afternoon" value="afternoon" class="hidden peer"><label for="pref-afternoon" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">Afternoon</label></div>
                                <div><input type="checkbox" id="pref-evening" value="evening" class="hidden peer"><label for="pref-evening" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">Evening</label></div>
                                <div><input type="checkbox" id="pref-night" value="night" class="hidden peer"><label for="pref-night" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">Night</label></div>
                            </div>
                        </div>
                        <div>
                            <label class="font-semibold text-slate-700">How long are your ideal study sessions?</label>
                            <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                                <div><input type="radio" name="session-length" id="len-30" value="30" class="hidden peer" checked><label for="len-30" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">30 mins</label></div>
                                <div><input type="radio" name="session-length" id="len-60" value="60" class="hidden peer"><label for="len-60" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">1 hour</label></div>
                                <div><input type="radio" name="session-length" id="len-120" value="120" class="hidden peer"><label for="len-120" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">2 hours</label></div>
                                <div><input type="radio" name="session-length" id="len-180" value="180" class="hidden peer"><label for="len-180" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">3 hours</label></div>
                            </div>
                        </div>
                        <div>
                            <label class="font-semibold text-slate-700">Do you prefer breaks between study sessions?</label>
                            <div class="grid grid-cols-2 gap-3">
                                <div><input type="radio" name="breaks" id="breaks-yes" value="yes" class="hidden peer" checked><label for="breaks-yes" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">Yes, please</label></div>
                                <div><input type="radio" name="breaks" id="breaks-no" value="no" class="hidden peer"><label for="breaks-no" class="block p-3 text-center border rounded-lg cursor-pointer peer-checked:bg-indigo-100 peer-checked:border-indigo-500 peer-checked:font-semibold">No, I'm good</label></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex justify-between mt-12">
                    <button onclick="navigate('page-tasks')" class="bg-slate-200 hover:bg-slate-300 text-slate-800 font-bold py-2 px-6 rounded-lg transition">Back</button>
                    <button id="generate-btn" onclick="runScheduler()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-transform transform hover:scale-105 flex items-center justify-center gap-2">
                        <span id="generate-btn-text">Generate Timetable</span>
                        <div id="generate-spinner" class="hidden w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>